# Spotoolfy Flutter 完整用户指南

## 🎵 应用概述

**Spotoolfy** 是一款功能丰富的第三方 Spotify 客户端，专为喜爱音乐的用户设计。该应用采用 Material Design 3 设计语言，提供歌词显示、翻译、笔记记录和 AI 音乐洞察等创新功能。

### 核心特色
- **智能歌词体验**：实时滚动歌词、多语言翻译、歌词搜索和选择
- **AI 驱动功能**：基于 Gemini AI 的歌词翻译和音乐个性分析
- **个人笔记系统**：为每首歌曲添加个人感悟和记录
- **动态主题**：根据专辑封面自动调整应用配色
- **多语言支持**：支持中文（简体/繁体）、英语和日语

---

## 📱 初始设置

### 1. 安装与配置

#### Android 安装
- 下载并安装 APK 文件
- 首次启动后需要配置 Spotify API 凭据

#### iOS 安装
- 支持 iOS 12.0+
- 可通过 TestFlight 获取测试版本

### 2. Spotify API 配置

**重要**：使用本应用需要您自己的 Spotify API 凭据。

1. 访问 [Spotify Developer Dashboard](https://developer.spotify.com/dashboard)
2. 创建新应用并获取：
   - **Client ID**
   - **Client Secret**
3. 在重定向 URI 中添加：`spotoolfy://callback`
4. 在应用设置中输入这些凭据

### 3. AI 功能配置

为了使用翻译和音乐洞察功能，您需要配置 Google Gemini API Key：

1. 访问 [Google AI Studio](https://makersuite.google.com/app/apikey)
2. 获取 API Key
3. 在应用设置中配置

---

## 🎯 主要功能详解

### 一、播放控制界面

#### 当前播放页面 (Now Playing)
这是应用的核心界面，包含三个主要标签：

##### 📝 记录 (Records) 标签
- **功能**：查看和管理当前歌曲的个人笔记
- **添加笔记**：点击浮动操作按钮 (+) 添加新记录
- **笔记内容**：可包含文字感悟、评分、标签等

##### 🎵 队列 (Queue) 标签  
- **当前播放**：显示正在播放的歌曲信息
- **播放队列**：查看接下来要播放的歌曲
- **队列操作**：点击歌曲可跳转播放

##### 📜 歌词 (Lyrics) 标签
这是本应用的特色功能之一：

**基础歌词功能：**
- **实时滚动**：歌词会随播放进度自动滚动高亮
- **手动控制**：点击歌词行可跳转到对应时间点
- **滚动控制**：手动滚动会暂停自动跟随，点击居中按钮恢复

**高级歌词功能：**

1. **歌词翻译** 🌐
   - 点击翻译按钮启动 AI 翻译
   - 支持多种翻译风格：
     - **忠实翻译**：保持原意，准确传达
     - **诗意翻译**：增强情感表达，更具感染力
     - **机器翻译**：模拟早期机翻风格，别具趣味
   - 翻译结果会自动缓存，避免重复请求

2. **歌词搜索** 🔍
   - 当默认歌词不准确时，可搜索替代版本
   - 支持手动输入歌手和歌曲名
   - 从多个来源获取歌词（QQ音乐、网易云音乐）

3. **歌词选择** ✅
   - 选择特定歌词段落进行操作
   - 支持复制、分享选中的歌词内容

4. **复制模式** 📋
   - 进入复制模式后：
     - 暂停自动滚动
     - 切换到单曲循环模式
     - 便于精确选择和复制歌词

### 二、音乐库界面

#### 🔍 搜索功能
- **实时搜索**：输入关键词即时显示结果
- **搜索范围**：歌曲、专辑、艺术家、播放列表
- **搜索历史**：自动保存最近的搜索记录

#### 📚 个人音乐库
- **最近播放**：显示最近听过的音乐上下文（专辑、播放列表）
- **快速播放**：点击封面图片可立即播放对应内容
- **库管理**：自动同步您的 Spotify 个人音乐库

#### 🤖 AI 音乐洞察
这是应用的创新功能之一：

**音乐个性分析：**
- 基于您的听歌历史生成个性化标签
- 例如："反高潮叙事信徒"、"冷门圣地的守护灵"

**情绪分析：**
- AI 分析您当前的音乐偏好和情绪状态
- 提供 2-5 句简洁的个性化分析

**音乐推荐：**
- 根据分析结果推荐符合您音乐品味的新歌曲
- 点击推荐可直接搜索该歌曲

### 三、发现音乐 (Roam)

#### 音乐探索
- **推荐内容**：基于您的听歌历史推荐新音乐
- **流行榜单**：查看当前热门歌曲和专辑
- **分类浏览**：按类型、心情、活动等分类探索

---

## ⚙️ 设置与个性化

### 语言设置
- **支持语言**：中文（简体/繁体）、英语、日语
- **切换方式**：在设置中选择偏好语言
- **界面响应**：语言更改会立即生效

### 主题系统
- **动态主题**：应用会自动提取专辑封面的主色调作为主题色
- **明暗模式**：跟随系统设置自动切换
- **Material 3**：采用 Google 最新设计语言

### 翻译设置
1. **目标语言**：选择翻译的目标语言
2. **翻译风格**：
   - 忠实翻译：适合理解歌词含义
   - 诗意翻译：适合感受情感表达
   - 机器翻译：娱乐性翻译体验
3. **思考模式**：开启可获得更深度的翻译分析

### 缓存管理
- **歌词缓存**：自动缓存已获取的歌词（30天有效期）
- **翻译缓存**：保存翻译结果，避免重复 API 调用
- **图片缓存**：缓存专辑封面，提升加载速度

---

## 🎮 操作技巧

### 手势与交互

#### 歌词页面操作
- **点击歌词行**：跳转到对应时间点
- **长按歌词**：复制单行歌词内容
- **滚动操作**：暂停自动跟随
- **双击**：快速居中当前播放行

#### 播放控制
- **双击专辑封面**：切换播放/暂停
- **左右滑动**：上一首/下一首
- **长按控制按钮**：显示更多选项

#### 智能功能
- **震动反馈**：操作时提供触觉反馈
- **状态保持**：切换应用时保持播放状态
- **断网检测**：自动检测网络状态并提示

### 高效使用技巧

1. **快速翻译**：歌词加载后立即点击翻译按钮，利用缓存机制
2. **批量操作**：在复制模式下可以连续操作多行歌词
3. **智能搜索**：搜索时使用"艺术家 - 歌曲名"格式获得更精确结果
4. **个性分析**：多听几首歌后再生成音乐洞察，分析会更准确

---

## 🔧 故障排除

### 常见问题及解决方案

#### 登录相关
**问题**：无法连接 Spotify
- 检查网络连接
- 确认 Spotify API 凭据正确
- 重新授权应用权限

**问题**：iOS 登录回调失败
- 确保已正确设置重定向 URI：`spotoolfy://callback`
- 重启应用并重新登录

#### 歌词功能
**问题**：歌词无法显示
- 检查网络连接
- 尝试搜索其他版本的歌词
- 清除歌词缓存后重新获取

**问题**：翻译功能不可用
- 确认已配置 Gemini API Key
- 检查 API Key 是否有效和有足够额度
- 尝试切换翻译风格

#### 性能相关
**问题**：应用运行缓慢
- 清除应用缓存
- 重启应用
- 确保设备有足够存储空间

**问题**：音乐播放卡顿
- 检查网络稳定性
- 确认 Spotify Premium 订阅状态
- 重新连接播放设备

### 数据管理

#### 清除缓存
1. 进入应用设置
2. 选择"清除缓存"
3. 可分别清除：
   - 歌词缓存
   - 翻译缓存  
   - 图片缓存

#### 备份数据
- **笔记记录**：自动保存在本地数据库
- **设置偏好**：自动备份配置信息
- **翻译记录**：缓存在本地，切换设备时需重新生成

---

## 📞 技术支持

### 系统要求
- **Android**：Android 10+ (API 31+)
- **iOS**：iOS 12.0+
- **Spotify**：需要 Spotify Premium 订阅（播放控制功能）

### 权限说明
应用需要以下权限：
- **网络访问**：获取歌词、翻译、音乐数据
- **存储权限**：保存缓存和用户数据
- **设备信息**：优化播放体验

### 隐私保护
- **本地存储**：用户笔记和偏好设置仅存储在本地
- **API 调用**：仅在必要时访问外部服务
- **数据加密**：敏感信息采用安全存储

### 开源信息
- **项目地址**：[GitHub Repository](https://github.com/spotoolfy/spotoolfy_flutter)
- **问题反馈**：通过 GitHub Issues 报告问题
- **贡献指南**：欢迎开发者参与项目改进

---

## 🌟 高级功能

### 开发者功能
对于技术用户，应用还提供：
- **调试日志**：详细的运行日志用于问题诊断
- **API 监控**：跟踪 Spotify 和 Gemini API 调用
- **性能分析**：监控应用性能指标

### 实验性功能
应用持续开发中，可能包含：
- **新的歌词来源**：扩展歌词提供商
- **增强的 AI 功能**：更深入的音乐分析
- **社交功能**：分享音乐洞察和笔记

---

## 📝 结语

**Spotoolfy** 为音乐爱好者提供了一个功能丰富、体验优雅的 Spotify 客户端。通过结合传统音乐播放功能与现代 AI 技术，让您的音乐聆听体验更加个性化和深入。

如果您在使用过程中遇到任何问题，请参考故障排除部分，或通过官方渠道寻求技术支持。

---

*本用户指南基于 Spotoolfy Flutter v1.2.0 编写，随着应用更新可能会有所变化。*